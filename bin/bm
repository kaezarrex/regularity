#! /usr/bin/env python

if __name__ == "__main__":

    import argparse
    import logging
    import time

    from regularity.model import Model

    parser = argparse.ArgumentParser()
    parser.add_argument('activity')
    parser.add_argument('--debug', action='store_true', default=False)
    parser.add_argument('-f', '--frequency', metavar='seconds', type=float, default=5.0)

    args = parser.parse_args()

    if args.debug:
        logging.basicConfig(
            level=logging.DEBUG
        )
    else:
        logging.basicConfig(
            level=logging.INFO
        )

    model = Model()

    running = True
    while running:
        try:
            model.activity(args.activity.lower(), args.frequency) 
            time.sleep(args.frequency)
        except KeyboardInterrupt:
            model.activity(args.activity.lower(), args.frequency) 
            running = False




    
